{"filter":false,"title":"scroll.js","tooltip":"/public/scroll.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":106,"column":21},"action":"insert","lines":["/*"," *\tcreated by zhangkai on 2016/10/10 "," */",";(function(global,$){","\t'use strict';","\tvar Fullpage = (function(){","\t\tfunction Fullpage (el,options) {","\t\t\tthis.$el = el;","\t\t\tthis.currIndex = 0;","\t\t\tthis.animating = false;","\t\t\tthis.init();","\t\t}","","\t\tvar utils = {","\t\t\tthrottle:function(callback,delayTime,maxTime){","\t\t\t\tvar timer = null;","\t\t\t\tvar prevTime = 0;","","\t\t\t\treturn function(){","\t\t\t\t\tvar context = this;","\t\t\t\t\tvar argument = arguments;","\t\t\t\t\tvar currTime = Date.now();","\t\t\t\t\tif(maxTime && currTime - prevTime >= maxTime){","\t\t\t\t\t\tprevTime = currTime;","\t\t\t\t\t\tcallback.apply(context,argument);","\t\t\t\t\t}else{","\t\t\t\t\t\tif(timer) clearTimeout(timer);","\t\t\t\t\t\ttimer = setTimeout(function(){","\t\t\t\t\t\t\tcallback.apply(context,argument);","\t\t\t\t\t\t},delayTime);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","\t\t};","","\t\tFullpage.prototype = {","\t\t\tconstructor:Fullpage,","\t\t\tinit:function(){","\t\t\t\tthis.initHTML();","\t\t\t\tthis.bindEvent();","\t\t\t},","\t\t\tinitHTML:function(){","\t\t\t\tthis.$el.children().css({","\t\t\t\t\t'height':'100vh',","\t\t\t\t\t'transition':'all 0.7s',","\t\t\t\t\t'-webkit-transition':'all 0.7s'","\t\t\t\t});","\t\t\t},","\t\t\tbindEvent:function(){","\t\t\t\tvar that = this;","\t\t\t\tvar targetIndex,x0,y0,xDiff,yDiff,delta;","","\t\t\t\t$(window).on('wheel DOMMouseScroll',utils.throttle(function(){","\t\t\t\t\tvar e = arguments[0].originalEvent;","\t\t\t\t\tdelta = e.wheelDelta?e.wheelDelta:-e.detail;","\t\t\t\t\ttargetIndex = that.currIndex + (delta>0?-1:1);","\t\t\t\t\tthat.gotoTarget(targetIndex);","\t\t\t\t},100));","","\t\t\t\tthis.$el.on('touchstart',function(e){     ","\t\t\t\t\tx0 = e.touches[0].clientX;","\t\t\t\t\ty0 = e.touches[0].clientY;","\t\t\t\t});","","\t\t\t\tthis.$el.on('touchmove',utils.throttle(function(){","\t\t\t\t\tconsole.log('move')","\t\t\t\t\tvar e = arguments[0];","\t\t\t\t\tif (!x0 || !y0) return;","\t\t\t\t\txDiff = e.touches[0].clientX - x0;","\t\t\t\t\tyDiff = e.touches[0].clientY - y0;","","\t\t\t\t\ttargetIndex = that.currIndex + (yDiff>0?-1:1);","\t\t\t\t\tthat.gotoTarget(targetIndex);","\t\t\t\t},16));","\t\t\t},","\t\t\tgotoTarget:function(targetIndex){","\t\t\t\tvar children = this.$el.children();","\t\t\t\tvar that = this;","\t\t\t\tvar translateY;","","\t\t\t\tif(this.animating || targetIndex<0 || targetIndex>this.$el.children().length-1) return;","","\t\t\t\ttranslateY= 'translateY(-'+targetIndex*100+'%)';","\t\t\t\tthis.animating = true;","\t\t\t\t$(children[0]).on('transitionend', function callback() {","\t\t\t        this.removeEventListener('transitionend', callback);","\t\t\t        that.animating = false;","\t\t        });","\t\t        children.css({","\t\t\t\t\t'transform':translateY,","\t\t\t\t\t'-webkit-transform':translateY","\t\t\t\t});\t","","\t\t\t\tthis.currIndex = targetIndex;","\t\t\t}","\t\t};","","\t\treturn Fullpage;","\t})();","","\t$.fn.fullpage = function(options){","\t\tthis.each(function(){","\t\t\tnew Fullpage($(this),options);","\t\t});","\t\treturn this;","\t};","})(this,this.jQuery);"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":106,"column":21},"end":{"row":106,"column":21},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1559409191253,"hash":"7a1623bf1d1f3627b4a202bd8ba9222f8ec047af"}